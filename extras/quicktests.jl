using MutableConvexHulls
using MutableConvexHulls: merge_hull_lists!

sortedby = x -> (x[1], -x[2]);

subhullpoints = [
	[(-7.185930633492303, -0.0002403694764195145), (-7.185930633492303, -0.0002403694764195145), (-7.185930633492303, -0.00024036948773939083), (-7.185930633492303, -0.0002403703277347257), (-7.185930633492303, -0.00024038046191073126), (-7.185930633492303, -0.0007963369115049656), (-7.185930633492303, -0.0008817567334499632), (-7.185930633492303, -0.004930802830449192), (-7.108169026332874, -0.17760614757108723), (-4.830689594866029, -1.0480511280876033), (-3.7913500248109386, -1.0000002356419941), (-1.0000000029142029, -0.847455415075053), (-1.0000000002846663, -0.7568631609135861)],
	[(-6.763636721707185, -2.9894391383206645e-5), (-6.763636721707185, -0.3109953388731397), (-4.83068959486603, -1.0376835455744513), (-2.6105430996879178, -1.000000000013888), (-1.000758485002031, -7.920006487456092e-25)],
	[(-6.638386288524918, -1.5171271690675082e-5), (-3.977380416605639, -0.5898346259059638), (-2.4510632579126126, -0.7098394921472865), (-2.2001040467466613, -0.7123845427959716), (-1.0019991290076, -0.7098364613030025), (-1.0000695143248794, -0.021872825595172424), (-1.000011472206109, -3.3726574371527565e-6)],
	[(-3.8854328456496097, -1.490267044615836e-6), (-1.000000703389938, -0.8746735304674678), (-1.0000002497744738, -0.8307530833793679), (-1.0000000351274476, -0.7929975826702684), (-1.0000000117681702, -0.7506095717177996), (-1.00000000878499, -0.714912943325311), (-1.0000000033333776, -0.6287610129876419), (-1.0000000004882112, -0.39411426949712686), (-1.0000000003548102, -0.31536274604350145)],
	[(-6.418967909793256, -9.292578301836656e-7), (-1.0016906261920386, -0.8521048821864375), (-1.0002430110970806, -0.7175654861066518), (-1.0000501781848579, -0.5375069369425123), (-1.000001016380503, -0.23072556723667045), (-1.0000003133456388, -0.02870078295134655)],
	[(-6.011976006179232, -0.03753083540581983), (-1.1562880501095503, -0.530015447874373), (-1.033092178552093, -0.4571617817435363), (-1.0023074617250145, -0.2711567092808579), (-1.0001416684379127, -0.10664941638253189), (-1.0000000963259175, -2.2264235448769894e-9)],
	[(-6.48835239120262, -3.0090899174130266e-5), (-6.048175057340555, -0.2657332791328346), (-4.830689594866029, -1.0000126380143741), (-3.018188766902712, -1.000005036172144), (-2.0176307904694912, -1.000000000013888), (-1.003265882043339, -7.920006259697249e-25)], 
	[(-6.2439818800893345, -0.04246981487863836), (-6.212466543837844, -0.062191469382781084), (-4.825781500808825, -0.18387287334976443), (-2.9043631254765314, -0.06217652402829946), (-1.9524199699468225, -1.096371210054782e-6)]
];

chanhull = ChanLowerConvexHull{eltype(subhullpoints[1])}(CCW, true, sortedby);
subhulls = [lower_monotonechain(pts; collinear=true, sortedby=sortedby) for pts in subhullpoints];
chanhull.subhulls = subhulls;

merge_hull_lists!(chanhull)